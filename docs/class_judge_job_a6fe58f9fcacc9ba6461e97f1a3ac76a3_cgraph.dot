digraph "JudgeJob::handle"
{
 // LATEX_PDF_SIZE
  edge [fontname="Helvetica",fontsize="10",labelfontname="Helvetica",labelfontsize="10"];
  node [fontname="Helvetica",fontsize="10",shape=record];
  rankdir="LR";
  Node34 [label="JudgeJob::handle",height=0.2,width=0.4,color="black", fillcolor="grey75", style="filled", fontcolor="black",tooltip="本 Job 的处理函数。整个 job 的工作入口，包括编译执行判题等内容"];
  Node34 -> Node35 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node35 [label="JudgeJob::change_job_dir",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_judge_job.html#a32a0d6b97470ddf01ab3f905f57615ec",tooltip="将当前路径切换到本 job 的临时工作路径"];
  Node34 -> Node36 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node36 [label="JobBase::storeSourceCode",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_job_base.html#a84501360b84b0716aa82b93f6958cb78",tooltip="从 redis 数据库获取本 Job 的代码并存储到工作空间中，用于编译运行。"];
  Node36 -> Node37 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node37 [label="JobBase::get_source_code",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_job_base.html#ae7e52177492489d1c1947f0efa0038f1",tooltip="从 redis 中取得代码"];
  Node37 -> Node38 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node38 [label="sync_fetch_redis_conn",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$master_2redis__conn__factory_8hpp.html#ab198e48c9dee63607145289ef1aa7757",tooltip=" "];
  Node38 -> Node39 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node39 [label="sync_nonsingle_instance\l_pool::sync_fetch",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$classsync__nonsingle__instance__pool.html#a737a17399fd4b8ac9894d0fa379caa41",tooltip=" "];
  Node38 -> Node40 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node40 [label="sync_nonsingle_instance\l_pool::__auto_revert_handle\l::abandon",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$classsync__nonsingle__instance__pool_1_1____auto__revert__handle.html#a11a1bd0b4726a771bb3ef0b5a010f340",tooltip=" "];
  Node38 -> Node41 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node41 [label="add_redis_conn",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$master_2redis__conn__factory_8hpp.html#a2c9be7394111105ab04a9aeafebb3188",tooltip=" "];
  Node41 -> Node42 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node42 [label="sync_nonsingle_instance\l_pool::add",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$classsync__nonsingle__instance__pool.html#a2aee96341e92381860e4366201cee988",tooltip=" "];
  Node36 -> Node43 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node43 [label="mkdir_p",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$mkdir__p_8hpp.html#a6d0adb35b2ec47f5a5d3d9c2e424532a",tooltip=" "];
  Node43 -> Node44 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node44 [label="std::to_string",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$namespacestd.html#aee474c547aeb0d844616a7defb3846a9",tooltip=" "];
  Node36 -> Node45 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node45 [label="source_file_suffix",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$united__resource_8hpp.html#a91baaf0c9418f69eaac1098cd545a78e",tooltip=" "];
  Node34 -> Node46 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node46 [label="JudgeJob::calculate\l_similarity",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_judge_job.html#a1a9896ab3eaa3056757d2f7531193ea7",tooltip=" "];
  Node46 -> Node44 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node34 -> Node47 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node47 [label="JudgeJob::commit_similarity\l_details_to_redis",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_judge_job.html#a96e0057ec2012e43bc58e63cc421dbba",tooltip="将查重结果提交到 redis 数据库。"];
  Node34 -> Node48 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node48 [label="JobBase::commitJudgeStatus\lToRedis",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_job_base.html#aa7da8e91cd0ffddf9b1cf70995d2134b",tooltip="将当前评测状态提交到 redis 数据库。"];
  Node48 -> Node44 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node48 -> Node38 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node34 -> Node49 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node49 [label="JudgeJob::compile",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_judge_job.html#a35fc1a76afeffbf6e958f64a6e620e1c",tooltip="进入当前 job 的编译流程，并返回编译结果。"];
  Node34 -> Node50 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node50 [label="JudgeJob::running",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_judge_job.html#a0d2e1e5cce842ef0daf71c95f98275f0",tooltip="进入当前 job 的执行流程，并返回执行结果。"];
  Node50 -> Node48 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node50 -> Node51 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node51 [label="JudgeJob::execute",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_judge_job.html#a1e12c6a1d33861f95a053186ac3d3eb9",tooltip="根据当前 config 配置的值，执行编译/运行程序。过程中会对必要的权限检查， 并且会启动一个线程来监控，防止运行超时。执行结束后返回执行结果。"];
  Node51 -> Node52 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node52 [label="Result::setErrorCode",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$struct_result.html#a8201d7586458dd80f361ab8c6cd93524",tooltip="将本结构体的 RunnerError 置为 err， 并将评测结果标为 UnitedJudgeResult::SYSTEM_ERROR"];
  Node51 -> Node53 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node53 [label="JudgeJob::child_process",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_judge_job.html#a45f3a298baec8013e313d506d5b764b5",tooltip="启动 编译/执行 的实际工作。限制了资源信息，重定向流之后，启动实际工作进程。"];
  Node51 -> Node54 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node54 [label="process::kill",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$classprocess.html#a217a9f72c54fb962f5c56cf0934901e5",tooltip="Send signal SIG to the process."];
  Node51 -> Node55 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node55 [label="process::join",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$classprocess.html#a2a3c8b98c92999ffe95abf1de7ee17d2",tooltip=" "];
  Node50 -> Node56 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node56 [label="compare",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$compare_8cpp.html#a960c5c76653215ba60077e139ab6c000",tooltip="根据用户答案路径和标准答案路径，提取相应文件并进行比对。比对结果作为判题结果，并返回。"];
  Node56 -> Node57 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node57 [label="find_next_nonspace",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$compare_8cpp.html#a3c3a2f8c7659254115586091eb020cc0",tooltip=" "];
  Node34 -> Node44 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node34 -> Node58 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node58 [label="id_type_base::to_literal",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$classid__type__base.html#ad2dca9dc5e11d46acf32e98dc8cd9c59",tooltip=" "];
  Node34 -> Node59 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node59 [label="JudgeJob::set_compile_info",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_judge_job.html#a82369eaa1b47b2106c45832bdda85e43",tooltip="当编译出错时，将编译错误信息写入到 redis。"];
  Node34 -> Node60 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node60 [label="JudgeJob::commitJudgeResult\lToRedis",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_judge_job.html#aba65436c1d07ce22ff6932f77218dd6c",tooltip="将评测结果提交到 redis 数据库。"];
  Node34 -> Node61 [color="midnightblue",fontsize="10",style="solid",fontname="Helvetica"];
  Node61 [label="JudgeJob::clean_job_dir",height=0.2,width=0.4,color="black", fillcolor="white", style="filled",URL="$class_judge_job.html#ae3ecd7b1686ad8473e60154df16ef468",tooltip="将当前路径切换出本 job 的临时工作路径并清理该工作区"];
}
