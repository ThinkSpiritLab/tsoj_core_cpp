<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TSOJ V4 Judge Core: /home/peter/git/Core/src/shared_src/cptr.hpp 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mlabel.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ThinkSpirit_logo_2018.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TSOJ V4 Judge Core
   </div>
   <div id="projectbrief">oj.thinkspirit.org</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_2d9465cb75be92c20e557f02b9c6607a.html">shared_src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">cptr.hpp 文件参考</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;cstddef&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
cptr.hpp 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="cptr_8hpp__incl.png" border="0" usemap="#_2home_2peter_2git_2_core_2src_2shared__src_2cptr_8hpp" alt=""/></div>
<map name="_2home_2peter_2git_2_core_2src_2shared__src_2cptr_8hpp" id="_2home_2peter_2git_2_core_2src_2shared__src_2cptr_8hpp">
<area shape="rect" id="node1" title=" " alt="" coords="5,5,168,47"/>
<area shape="rect" id="node2" title=" " alt="" coords="54,95,119,121"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
此图展示该文件直接或间接的被哪些文件引用了:</div>
<div class="dyncontent">
<div class="center"><img src="cptr_8hpp__dep__incl.png" border="0" usemap="#_2home_2peter_2git_2_core_2src_2shared__src_2cptr_8hppdep" alt=""/></div>
<map name="_2home_2peter_2git_2_core_2src_2shared__src_2cptr_8hppdep" id="_2home_2peter_2git_2_core_2src_2shared__src_2cptr_8hppdep">
<area shape="rect" id="node1" title=" " alt="" coords="1063,5,1225,47"/>
<area shape="rect" id="node2" href="logger_8hpp.html" title=" " alt="" coords="1056,95,1232,136"/>
<area shape="rect" id="node3" href="_config_8cpp.html" title=" " alt="" coords="5,191,152,233"/>
<area shape="rect" id="node4" href="_judge_job_8cpp.html" title=" " alt="" coords="177,191,341,233"/>
<area shape="rect" id="node5" href="slave_8cpp.html" title=" " alt="" coords="365,191,507,233"/>
<area shape="rect" id="node6" href="_contest_update_job_8cpp.html" title=" " alt="" coords="531,191,757,233"/>
<area shape="rect" id="node7" href="_course_update_job_8cpp.html" title=" " alt="" coords="782,191,1005,233"/>
<area shape="rect" id="node8" href="_exercise_update_job_8cpp.html" title=" " alt="" coords="1029,191,1259,233"/>
<area shape="rect" id="node9" href="_exercise_update_job_base_8cpp.html" title=" " alt="" coords="1283,184,1490,240"/>
<area shape="rect" id="node10" href="master_8cpp.html" title=" " alt="" coords="1515,191,1672,233"/>
<area shape="rect" id="node11" href="_update_job_base_8cpp.html" title=" " alt="" coords="1696,191,1907,233"/>
<area shape="rect" id="node12" href="_job_base_8cpp.html" title=" " alt="" coords="1931,191,2123,233"/>
<area shape="rect" id="node13" href="logger_8cpp.html" title=" " alt="" coords="2147,191,2323,233"/>
</map>
</div>
</div>
<p><a href="cptr_8hpp_source.html">浏览源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:abb43c84adb7d1d6e9c0d644833abb0be"><td class="memItemLeft" align="right" valign="top">constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cptr_8hpp.html#abb43c84adb7d1d6e9c0d644833abb0be">operator&quot;&quot;_cptr</a> (const char *s, size_t len)</td></tr>
<tr class="separator:abb43c84adb7d1d6e9c0d644833abb0be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">函数说明</h2>
<a id="abb43c84adb7d1d6e9c0d644833abb0be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb43c84adb7d1d6e9c0d644833abb0be">&#9670;&nbsp;</a></span>operator&quot;&quot;_cptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* operator&quot;&quot;_cptr </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
    <tr><td class="paramname">len</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd></dd></dl>
<h4>why need cptr? </h4>
<p class="">template &lt;typename T&gt;<br />
 void f(const T &amp; src)<br />
 {<br />
 &#160;&#160;&#160;&#160;cout &lt;&lt; src;<br />
 }<br />
</p>
<p class="">f("abc");<br />
 f("abcd");</p>
<p class="">In the previous example, the C++ compiler will generate two different functions if there are two instances trying to pass parameters with different length. That will lead to program size expansion and expand the compile time. An idea may have come to you that you can use f((const char *)"abc") and f((const char *)"abcd") to solve this problem. However, this solution is not convenient.</p>
<p class="">In C++11, we can take use of the feature of literal operator, which allow you to program in the way like f("abc"_cptr)</p>
<p class="">After a series of test, the program size of ojv4.judge_core.slave decrease by at least 15% in configuration of release. The optimization effect is obvious. </p>

<p class="definition">在文件 <a class="el" href="cptr_8hpp_source.html">cptr.hpp</a> 第 <a class="el" href="cptr_8hpp_source.html#l00044">44</a> 行定义.</p>

</div>
</div>
</div><!-- contents -->
<footer>
<hr> Powered by
<a href="http://www.doxygen.nl/" target="_blank"> Doxygen </a>
<br>
Contributors:
<a href=""> Shaohua Zhang,&nbsp; Zhiqiang Shi,&nbsp; Xi Chen,&nbsp; Kehan Huang,&nbsp; Binjie Zhang,&nbsp; Wentsing Nee </a>
<br> Copyright © 2010-2018
<a href="http://www.thinkspirit.org" target="_blank"> Think Spirit. </a> All rights reserved.
</footer>
